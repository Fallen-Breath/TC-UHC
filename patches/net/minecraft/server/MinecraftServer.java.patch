--- ../src-base/minecraft/net/minecraft/server/MinecraftServer.java
+++ ../src-work/minecraft/net/minecraft/server/MinecraftServer.java
@@ -9,6 +9,7 @@
 import com.mojang.authlib.GameProfileRepository;
 import com.mojang.authlib.minecraft.MinecraftSessionService;
 import com.mojang.authlib.yggdrasil.YggdrasilAuthenticationService;
+import cn.topologycraft.uhc.GameManager;
 import io.netty.buffer.ByteBuf;
 import io.netty.buffer.ByteBufOutputStream;
 import io.netty.buffer.Unpooled;
@@ -85,6 +86,84 @@
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
+
+import cn.topologycraft.uhc.GameManager;
+import io.netty.buffer.ByteBuf;
+import io.netty.buffer.ByteBufOutputStream;
+import io.netty.buffer.Unpooled;
+import io.netty.handler.codec.base64.Base64;
+import java.awt.GraphicsEnvironment;
+import java.awt.image.BufferedImage;
+import java.io.File;
+import java.io.IOException;
+import java.io.UnsupportedEncodingException;
+import java.net.Proxy;
+import java.net.URLEncoder;
+import java.nio.charset.StandardCharsets;
+import java.security.KeyPair;
+import java.text.SimpleDateFormat;
+import java.util.Arrays;
+import java.util.Collections;
+import java.util.Date;
+import java.util.List;
+import java.util.Queue;
+import java.util.Random;
+import java.util.UUID;
+import java.util.concurrent.Callable;
+import java.util.concurrent.Executors;
+import java.util.concurrent.FutureTask;
+import javax.annotation.Nullable;
+import javax.imageio.ImageIO;
+import net.minecraft.advancements.AdvancementManager;
+import net.minecraft.advancements.FunctionManager;
+import net.minecraft.command.CommandBase;
+import net.minecraft.command.ICommandManager;
+import net.minecraft.command.ICommandSender;
+import net.minecraft.command.ServerCommandManager;
+import net.minecraft.crash.CrashReport;
+import net.minecraft.crash.ICrashReportDetail;
+import net.minecraft.entity.Entity;
+import net.minecraft.entity.player.EntityPlayer;
+import net.minecraft.entity.player.EntityPlayerMP;
+import net.minecraft.init.Bootstrap;
+import net.minecraft.network.NetworkSystem;
+import net.minecraft.network.ServerStatusResponse;
+import net.minecraft.network.play.server.SPacketTimeUpdate;
+import net.minecraft.profiler.ISnooperInfo;
+import net.minecraft.profiler.Profiler;
+import net.minecraft.profiler.Snooper;
+import net.minecraft.server.dedicated.DedicatedServer;
+import net.minecraft.server.management.PlayerList;
+import net.minecraft.server.management.PlayerProfileCache;
+import net.minecraft.util.IProgressUpdate;
+import net.minecraft.util.IThreadListener;
+import net.minecraft.util.ITickable;
+import net.minecraft.util.ReportedException;
+import net.minecraft.util.Util;
+import net.minecraft.util.datafix.DataFixer;
+import net.minecraft.util.datafix.DataFixesManager;
+import net.minecraft.util.math.BlockPos;
+import net.minecraft.util.math.MathHelper;
+import net.minecraft.util.text.ITextComponent;
+import net.minecraft.util.text.TextComponentString;
+import net.minecraft.world.EnumDifficulty;
+import net.minecraft.world.GameType;
+import net.minecraft.world.MinecraftException;
+import net.minecraft.world.ServerWorldEventHandler;
+import net.minecraft.world.World;
+import net.minecraft.world.WorldServer;
+import net.minecraft.world.WorldServerDemo;
+import net.minecraft.world.WorldServerMulti;
+import net.minecraft.world.WorldSettings;
+import net.minecraft.world.WorldType;
+import net.minecraft.world.chunk.storage.AnvilSaveConverter;
+import net.minecraft.world.storage.ISaveFormat;
+import net.minecraft.world.storage.ISaveHandler;
+import net.minecraft.world.storage.WorldInfo;
+import org.apache.commons.lang3.Validate;
+import org.apache.logging.log4j.LogManager;
+import org.apache.logging.log4j.Logger;
+
 public abstract class MinecraftServer implements ICommandSender, Runnable, IThreadListener, ISnooperInfo
 {
     private static final Logger field_147145_h = LogManager.getLogger();
@@ -141,6 +220,9 @@
     private Thread field_175590_aa;
     private long field_175591_ab = func_130071_aq();
 
+    // TC Plugin
+    protected GameManager uhcGameManager;
+
     public MinecraftServer(File p_i47054_1_, Proxy p_i47054_2_, DataFixer p_i47054_3_, YggdrasilAuthenticationService p_i47054_4_, MinecraftSessionService p_i47054_5_, GameProfileRepository p_i47054_6_, PlayerProfileCache p_i47054_7_)
     {
         this.field_110456_c = p_i47054_2_;
@@ -450,9 +532,13 @@
                 this.field_175591_ab = func_130071_aq();
                 long i = 0L;
                 this.field_147147_p.func_151315_a(new TextComponentString(this.field_71286_C));
-                this.field_147147_p.func_151321_a(new ServerStatusResponse.Version("1.12", 335));
+                // TC Plugin:
+                this.field_147147_p.func_151321_a(new ServerStatusResponse.Version("1.12-pre7", 334));
                 this.func_184107_a(this.field_147147_p);
 
+                // TC Plugin: Server Initialized Hook
+                GameManager.instance.onServerInited();
+
                 while (this.field_71317_u)
                 {
                     long k = func_130071_aq();
@@ -603,6 +689,9 @@
         this.field_71304_b.func_76320_a("root");
         this.func_71190_q();
 
+        // TC Plugin: Game Manager Update Hook
+        this.uhcGameManager.tick();
+
         if (i - this.field_147142_T >= 5000000000L)
         {
             this.field_147142_T = i;
@@ -892,7 +981,8 @@
 
     public String func_71249_w()
     {
-        return "1.12";
+        // TC Plugin:
+        return "1.12-pre7";
     }
 
     public int func_71233_x()
